<template name="groups">
    {{#contentFor "headerButtonLeft"}}
        {{>ionNavBackButton path="index"}}
    {{/contentFor}}

    {{#contentFor "headerTitle"}}
        <h1 class="title">Groups</h1>
    {{/contentFor}}
    
    {{#contentFor 'headerButtonRight'}}
        <button class="button button-clear" data-ion-modal="groupModal" style="font-weight: 500;">
            Add
        </button>
    {{/contentFor}}

    {{#ionView}}
        {{#ionContent class="groupsClass"}}
            <div class="list card">
                <a class="item item-icon-left positive" href="{{pathFor 'createGroup'}}">
                    <i class="icon ion-plus-circled"></i>
                    Create a group
                </a>
            </div>
            {{#ionList}}
                <div class="item item-divider">
                    <p>Total Communities you own - {{total}}</p>
                </div>
                {{#each comm}}
                    {{#ionItem buttonRight=true }}
                        <a  href="{{pathFor 'groupView' _id}}">
                            <h2>{{this.name}} </h2>
                            <p>
                                {{this.description}}
                            </p>
                        </a>
                        <p>
                            <a class="button button-clear icon-left ion-checkmark-circled button-positive btnMem">{{this.members.length}}</a>
                            <a class="button button-clear icon-left ion-help-circled button-energized btnPend">{{this.pending.length}}</a>
                            <a class="button button-clear icon-left ion-minus-circled button-assertive btnBlock">{{this.blocked.length}}</a>
                        </p>
                        <button class="button icon ion-trash-a button-assertive button-clear btnDel" ></button>
                    {{/ionItem}}
                {{/each}}
                <div class="item item-divider">
                    <p>Total Communities you joined - {{totalJoin}}</p>
                </div>
                {{#each commJoin}}
                    {{#ionItem buttonRight=true }}
                        <a data-action="open-group">
                            <h2>{{this.name}} </h2>
                            <p>
                                {{this.description}}
                            </p>
                        </a>
                        <p>
                            <a class="button button-clear icon-left ion-checkmark-circled button-positive">{{this.members.length}}</a>
                            <a class="button button-clear icon-left ion-help-circled button-energized">{{this.pending.length}}</a>
                            <a class="button button-clear icon-left ion-minus-circled button-assertive">{{this.blocked.length}}</a>
                        </p>
                        <button class="button icon ion-trash-a button-assertive button-clear btnDel" ></button>
                    {{/ionItem}}
                {{/each}}
            {{/ionList}}
        {{/ionContent}}
    {{/ionView}}

</template>
